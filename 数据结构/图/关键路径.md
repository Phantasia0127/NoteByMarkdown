### AOE 网
- 带权有向图
- 顶点表示事件
- 有向边表示活动
- 边上权值表示完成该活动的开销（比如完成该活动所需时间开销）
![image.png](https://iili.io/JKLsUXt.png)

### 源点、汇点
- AOE网中仅有一个入度、仅有一个入度为0的顶点。
- 分别称之为源点，汇点。
- 分别表示<mark style="background: #FFB8EBA6;">整个工程的开始</mark>，<mark style="background: #FF5582A6;">和整个工程的结束</mark>
![image.png](https://iili.io/JKLLnCF.png)

### 关键路径、关键活动
- 所有路径中，具有最大路径长度的路径称为***关键路径***
- 关键路径上的活动称为**关键活动**
![image.png](https://iili.io/JKLbx5b.png)
- **活动**是需要执行时间的，**事件**更像是一个执行命令，事件可以让某个活动发生，事件是不需要执行事件的。
- 活动和事件的发生时间、开始时间
- 事件最早发生时间：决定所有从当前节点的活动可以开工的最早时间
- 活动最早开始事件：只该活动弧的起点所表示的事件的最早发生时间
![image.png](https://iili.io/JKLpcOJ.png)
- 事件的最迟发生时间(我觉得和关键路径有关)
- 事件的最迟发生事件：不推迟整个工程完成的前提下，该事件最迟必须发生的时间。
- 活动的最迟开始时间：活动弧的终点所表示事件的最迟发生的时间与该活动所需的时间之差。（我们所有的时间应该是时间线上的某一个时间节点）
![image.png](https://iili.io/JKQ9pAg.png)

- 最早开始时间和最迟开始时间的对比
- ###### 时间余量
- 时间余量为0的点也就是关键路径上的关键活动
![image.png](https://iili.io/JKQH8sR.png)

### 关键路径的求解步骤
1. 求所有事件的最早发生事件 ve[]
2. 求所有事件的最迟发生时间 vl[]
3. 求所有活动的最早发生时间 e[]
4. 求所有活动的最迟发生时间 v[]
5. 求所有活动的时间余量 d[] （d[i] == 0的点就是关键活动） 
![image.png](https://iili.io/JKQImE7.png)
- 求所有事件的最早发生时间 ve[]
	- 按**拓扑排序**序列，以此求各个顶点的ve[k]
	- ve[源点] = 0
	- ve[k] = Max{ve[j] + Weight($V_j,V_k$)}, 其中$V_j$为$V_k$的任意前驱
	- 执行过程如图所示，其中ve4和ve6需要特别注意
	![image.png](https://iili.io/JKQ7iv9.png)

#### 求解步骤分步执行
- 求所有事件的最迟发生时间
	- 因为源点、汇点的ve和vj是一致的
	- 逆拓扑序列
	- 从后向前推理
	![image.png](https://iili.io/JKQcmGf.png)
- 求所有活动的最早发生事件
	- 就是就是这个**活动（弧）的弧尾的事件的最早发生时间**
	- 直接拷贝
	![](https://iili.io/JKQ080v.png)

- 所有活动的最迟发生事件
	- 各个活动的最迟发生事件就是**这条弧的指向的节点**的最晚发生事件减去**活动执行所需要的时间**
	- 因为事件对应的是**弧**而不是节点，所以**下一个事件发生的时间点之前，该活动需要完成**，所以活动发生的最晚事件点应该是下一个事件的最晚发生时间减去活动执行所需要的时间。
- 求所有活动的时间余量
	- $d(i) = l(i) - e(i)$
	![image.png](https://iili.io/JKQMop2.png)
	- 关键路径也就很好找了
	![image.png](https://iili.io/JKQW4e4.png)



#### 关键路径、关键活动的特性
![image.png](https://iili.io/JKQXgG1.png)
